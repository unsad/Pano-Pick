<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="bower_components/three.js/three.js"></script>
</head>
<body onload="init()">
    <canvas id="mainCanvas" width="400px" height="300px"></canvas>
</body>
<script>
    function init() {
        // 创建基础场景设施
          let renderer = new THREE.WebGLRenderer({
            canvas: document.getElementById('mainCanvas')
        }),
            scene = new THREE.Scene(),
            camera = new THREE.PerspectiveCamera(45, 4 / 3, 1, 1000);

        // 创建对象
        let cube = new THREE.Mesh(new THREE.BoxGeometry(10, 10, 10),
            new THREE.MeshLambertMaterial({
                color: 0xffffff
            })),
            plane = new THREE.Mesh(new THREE.PlaneGeometry(50, 50, 20, 20),
                new THREE.MeshLambertMaterial({
                    color: 0xffffff
                })),
            light = new THREE.SpotLight(0xffffff, 1, 100, Math.PI / 6, 25),
            torus = [];
        for (let i = 0;i < 4;i++) {
            torus[i] = new THREE.Mesh(new THREE.TorusGeometry(2, 1, 10 ,10),
                new THREE.MeshLambertMaterial({
                    color: 0xffffff
                }));
            torus[i].castShadow = true;
            scene.add(torus[i]);
        }
        // 相机定位
        camera.position.set(40, 40, 40);
        camera.lookAt({
            x: 0,
            y: 0,
            z: 0
        });
        // 布局
        torus[0].position.set(5, -5, 5);
        torus[1].position.set(5, -5, -5);
        torus[2].position.set(-5, -5, 5);
        torus[3].position.set(-5, -5, -5);
        plane.position.set(0, -7, 0);
        plane.rotation.x = -Math.PI / 2;
        light.position.set(-30, 30, 30);
        light.target = cube;

        // 阴影配置
        cube.castShadow = true;
        renderer.shadowMapEnabled = true;
        renderer.shadowMapSoft = true;
        plane.receiveShadow = true;
        light.castShadow = true;
        light.shadowCameraNear = 2;
        light.shadowCameraFar = 20;
        light.shadowCameraFov = 40;
        light.shadowCameraVisible = true;
        light.shadowMapWidth = 1024;
        light.shadowMapHeight = 1024;
        light.shadowDarkness = 0.3;
        // 渲染
        scene.add(light);
        scene.add(cube);
        scene.add(plane);
        scene.add(camera);
        renderer.setClearColor(0xdddddd);
        renderer.render(scene, camera);
    }
</script>
</html>