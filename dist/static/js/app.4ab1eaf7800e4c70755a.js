webpackJsonp([1],{23:function(e,t,n){"use strict";var a=n(2),o=n(84),i=n(77),r=n.n(i),d=n(78),c=n.n(d),s=n(79),u=n.n(s),l=n(71);n.n(l);a.default.use(o.a),t.a=new o.a({routes:[{path:"/",name:"entry",components:{window:r.a}},{path:"/game",name:"game",components:{window:c.a}},{path:"/outDate",name:"outDate",components:{window:u.a}}]})},25:function(e,t){},26:function(e,t,n){n(75);var a=n(6)(n(50),n(83),null,null);e.exports=a.exports},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(26),i=n.n(o),r=n(23),d=n(24),c=n.n(d),s=n(25);n.n(s);a.default.use(c.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"entry",data:function(){return{toggle:"/game"}},methods:{checkDate:function(){var e=Date.now()-new Date(2017,4,3);this.toggle=e<0?"/game":"/outDate"}},created:function(){this.checkDate()}}},52:function(e,t,n){"use strict";function a(){var e=void 0,t=void 0;e=document.getElementById("container"),h=new v.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1100),h.target=new v.Vector3(0,0,0),g=new v.Scene;var n=new v.SphereGeometry(500,60,40);n.scale(-1,1,1);var a=new v.MeshBasicMaterial({map:(new v.TextureLoader).load("http://oe9g187nt.bkt.clouddn.com/img/2294472375_24a3b8ef46_o.jpg")});t=new v.Mesh(n,a),g.add(t);for(var o=0;o<8;o++){var i=function(){var e=new v.SpriteMaterial({map:(new v.TextureLoader).load("http://oe9g187nt.bkt.clouddn.com/img/sprite1.png"),color:16777215,fog:!0}),t=new v.Sprite(e);return t.scale.set(20,20,1),t.position.x=300*Math.random()*(Math.random()>.5?1:-1),t.position.y=300*Math.random()*(Math.random()>.5?1:-1),t.position.z=300*Math.random()*(Math.random()>.5?1:-1),t}();k[i.id]=!1,g.add(i)}w=new v.WebGLRenderer,w.setPixelRatio(window.devicePixelRatio),w.setSize(window.innerWidth,window.innerHeight),e.appendChild(w.domElement)}function o(){container.addEventListener("mousedown",s(this),!1),container.addEventListener("mousemove",u,!1),container.addEventListener("mouseup",l,!1),container.addEventListener("wheel",m,!1),container.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),container.addEventListener("dragenter",function(e){document.body.style.opacity=.5},!1),container.addEventListener("dragleave",function(e){document.body.style.opacity=1},!1),container.addEventListener("drop",function(e){e.preventDefault();var t=new FileReader;t.addEventListener("load",function(e){material.map.image.src=e.target.result,material.map.needsUpdate=!0},!1),t.readAsDataURL(e.dataTransfer.files[0]),document.body.style.opacity=1},!1),container.addEventListener("resize",c,!1),container.addEventListener("touchstart",i(this),!1),container.addEventListener("touchmove",r,!1),container.addEventListener("touchend",d,!1)}function i(e){return function(t){_=!0,b=t.changedTouches[0].pageX,y=t.changedTouches[0].pageY,x=M,F=E,R.x=t.changedTouches[0].pageX/window.innerWidth*2-1,R.y=-t.changedTouches[0].pageY/window.innerHeight*2+1,L.setFromCamera(R,h);var n=L.intersectObjects(g.children);n.length>0&&n[0].object.id>3&&(n[0].object.material.map=(new v.TextureLoader).load("http://oe9g187nt.bkt.clouddn.com/img/sprite0.png"),n[0].object.scale.set(20,20,1),k[n[0].object.id]===!1&&(k[n[0].object.id]=!0,e.foundCount+=1),D()&&(e.over=!0))}}function r(e){if(void 0==e.changedTouches[1])_===!0&&(M=.1*(b-e.changedTouches[0].pageX)+x,E=.1*(e.changedTouches[0].pageY-y)+F);else{var t=Math.pow(e.changedTouches[1].pageX-e.changedTouches[0].pageX,2)+Math.pow(e.changedTouches[1].pageY-e.changedTouches[0].pageY,2);t<C?h.fov+=.75:h.fov-=.75,C=t,h.updateProjectionMatrix()}}function d(e){_=!1}function c(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}function s(e){return function(t){t.preventDefault(),_=!0,b=t.clientX,y=t.clientY,x=M,F=E,R.x=t.clientX/window.innerWidth*2-1,R.y=-t.clientY/window.innerHeight*2+1,L.setFromCamera(R,h);var n=L.intersectObjects(g.children);n.length>0&&n[0].object.id>3&&(n[0].object.material.map=(new v.TextureLoader).load("http://oe9g187nt.bkt.clouddn.com/img/sprite0.png"),n[0].object.scale.set(20,20,1),k[n[0].object.id]===!1&&(k[n[0].object.id]=!0,e.foundCount+=1),D()&&(e.over=!0))}}function u(e){_===!0&&(M=.1*(b-e.clientX)+x,E=.1*(e.clientY-y)+F)}function l(e){_=!1}function m(e){h.fov+=.05*e.deltaY,h.updateProjectionMatrix()}function f(){requestAnimationFrame(f),p()}function p(){E=Math.max(-85,Math.min(85,E)),T=v.Math.degToRad(90-E),j=v.Math.degToRad(M),h.target.x=500*Math.sin(T)*Math.cos(j),h.target.y=500*Math.cos(T),h.target.z=500*Math.sin(T)*Math.sin(j),h.lookAt(h.target),w.render(g,h)}Object.defineProperty(t,"__esModule",{value:!0});var v=n(76);t.default={name:"game",data:function(){return{time:20,ready:5,foundCount:0,numberValidateForm:{phone:""}}},computed:{money:function(){switch(!0){case 0===this.foundCount:return 0;case 1===this.foundCount:return 1;case this.foundCount<=5:return 10;default:return 20}},people:function(){return Math.floor(this.foundCount/8*100)+"%"}},created:function(){this.curReady()},methods:{curTime:function(){var e=this,t=setInterval(function(){e.time-=1,0===e.time&&clearInterval(t)},1e3)},curReady:function(){var e=this,t=setInterval(function(){e.ready-=1,0===e.ready&&(clearInterval(t),e.curTime())},1e3)},init:a,animate:f,addEvent:o,submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.init(),this.animate(),this.addEvent()}};var h=void 0,g=void 0,w=void 0,_=!1,b=0,y=0,M=0,x=0,E=0,F=0,T=0,j=0,C=0,L=new v.Raycaster,R=new v.Vector2,k=[],D=function(){return!k.includes(!1)}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"outDate"}},71:function(e,t){},72:function(e,t){},73:function(e,t){},74:function(e,t){},75:function(e,t){},77:function(e,t,n){n(74);var a=n(6)(n(51),n(82),"data-v-32d2e663",null);e.exports=a.exports},78:function(e,t,n){n(73);var a=n(6)(n(52),n(81),"data-v-28bedbde",null);e.exports=a.exports},79:function(e,t,n){n(72);var a=n(6)(n(53),n(80),"data-v-1b219ead",null);e.exports=a.exports},80:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  游戏已结束\n")])},staticRenderFns:[]}},81:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[e.time?[n("div",{attrs:{id:"container"}}),e._v(" "),e.ready?n("div",{staticClass:"ready"},[n("span",[e._v(e._s(e.ready))])]):e._e(),e._v(" "),n("div",{staticClass:"info"},[n("el-card",{staticClass:"box-card"},[n("div",[e._v("剩余时间: "+e._s(e.time)+"s")]),e._v(" "),n("div",[e._v("任务进度: "+e._s(e.foundCount)+"/8")])])],1)]:n("div",{staticClass:"overInfo"},[n("h3",[e._v("恭喜你找到"+e._s(e.foundCount)+"个拼图，获得"+e._s(e.money)+"牛币,打败了"+e._s(e.people)+"的玩家")]),e._v(" "),n("el-form",{ref:"numberValidateForm",staticClass:"demo-ruleForm",attrs:{model:e.numberValidateForm,"label-position":"top","label-width":"100px"}},[n("el-form-item",{attrs:{label:"手机号码",prop:"phone",rules:[{required:!0,message:"号码不能为空"},{type:"number",message:"号码必须为数字值"}]}},[n("el-input",{attrs:{type:"phone","auto-complete":"off"},model:{value:e.numberValidateForm.phone,callback:function(t){e.numberValidateForm.phone=e._n(t)},expression:"numberValidateForm.phone"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("numberValidateForm")}}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){e.resetForm("numberValidateForm")}}},[e._v("重置")])],1)],1)],1)],2)},staticRenderFns:[]}},82:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[n("div",{staticClass:"content"},[n("h1",[e._v("翻转羊城八景")]),e._v(" "),e._m(0),e._v(" "),n("el-button",{attrs:{type:"primary"}},[n("router-link",{attrs:{to:e.toggle}},[e._v("进入游戏")])],1)],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("时间")]),e._v(" "),n("li",[e._v("寻找")]),e._v(" "),n("li",[e._v("本活动")]),e._v(" "),n("li",[e._v("。。。")])])}]}},83:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{name:"window"}})],1)},staticRenderFns:[]}}},[49]);
//# sourceMappingURL=app.4ab1eaf7800e4c70755a.js.map